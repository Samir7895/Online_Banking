{"remainingRequest":"C:\\Users\\User\\Desktop\\online_banking\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\online_banking\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\online_banking\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\User\\Desktop\\online_banking\\src\\views\\Auth.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\User\\Desktop\\online_banking\\src\\views\\Auth.vue","mtime":1631870098761},{"path":"C:\\Users\\User\\Desktop\\online_banking\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\online_banking\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\User\\Desktop\\online_banking\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\online_banking\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzLmpzIjsKaW1wb3J0IHsgY29tcHV0ZWQsIHdhdGNoIH0gZnJvbSAidnVlIjsKaW1wb3J0ICogYXMgeXVwIGZyb20gJ3l1cCc7CmltcG9ydCB7IHVzZUZpZWxkLCB1c2VGb3JtIH0gZnJvbSAidmVlLXZhbGlkYXRlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBdXRoIiwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgX3VzZUZvcm0gPSB1c2VGb3JtKCksCiAgICAgICAgaGFuZGxlU3VibWl0ID0gX3VzZUZvcm0uaGFuZGxlU3VibWl0LAogICAgICAgIGlzU3VibWl0dGluZyA9IF91c2VGb3JtLmlzU3VibWl0dGluZywKICAgICAgICBzdWJtaXRDb3VudCA9IF91c2VGb3JtLnN1Ym1pdENvdW50OwoKICAgIHZhciBfdXNlRmllbGQgPSB1c2VGaWVsZCgnZW1haWwnLCB5dXAuc3RyaW5nKCkudHJpbSgpLnJlcXVpcmVkKCfQn9C+0LbQsNC70YPQudGB0YLQsCDQstCy0LXQtNC40YLQtSBlbWFpbCcpLmVtYWlsKCfQndC10L7QsdGF0L7QtNC40LzQviDQstCy0LXRgdGC0Lgg0LrQvtGA0YDQtdC60YLQvdGL0LkgZW1haWwnKSksCiAgICAgICAgZW1haWwgPSBfdXNlRmllbGQudmFsdWUsCiAgICAgICAgZUVycm9yID0gX3VzZUZpZWxkLmVycm9yTWVzc2FnZSwKICAgICAgICBlQmx1ciA9IF91c2VGaWVsZC5oYW5kbGVCbHVyOwoKICAgIHZhciBNSU5fTEVOR1RIID0gNjsKCiAgICB2YXIgX3VzZUZpZWxkMiA9IHVzZUZpZWxkKCdwYXNzd29yZCcsIHl1cC5zdHJpbmcoKS50cmltKCkucmVxdWlyZWQoJ9Cf0L7QttCw0LvRg9C50YHRgtCwINCy0LLQtdC00LjQtSDQv9Cw0YDQvtC70YwnKS5taW4oTUlOX0xFTkdUSCwgIlx1MDQxRlx1MDQzMFx1MDQ0MFx1MDQzRVx1MDQzQlx1MDQ0QyBcdTA0M0RcdTA0MzUgXHUwNDNDXHUwNDNFXHUwNDM2XHUwNDM1XHUwNDQyIFx1MDQzMVx1MDQ0Qlx1MDQ0Mlx1MDQ0QyBcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NENcdTA0NDhcdTA0MzUgIi5jb25jYXQoTUlOX0xFTkdUSCwgIiBcdTA0NDFcdTA0MzhcdTA0M0NcdTA0MzJcdTA0M0VcdTA0M0JcdTA0M0VcdTA0MzIiKSkpLAogICAgICAgIHBhc3N3b3JkID0gX3VzZUZpZWxkMi52YWx1ZSwKICAgICAgICBwRXJyb3IgPSBfdXNlRmllbGQyLmVycm9yTWVzc2FnZSwKICAgICAgICBwQmx1ciA9IF91c2VGaWVsZDIuaGFuZGxlQmx1cjsKCiAgICB2YXIgaXNUb29NYW55QXR0ZW1wdHMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdWJtaXRDb3VudC52YWx1ZSA+PSAzOwogICAgfSk7CiAgICB3YXRjaChpc1Rvb01hbnlBdHRlbXB0cywgZnVuY3Rpb24gKHZhbCkgewogICAgICBpZiAodmFsKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gc3VibWl0Q291bnQudmFsdWUgPSAwOwogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICAgIHZhciBvblN1Ym1pdCA9IGhhbmRsZVN1Ym1pdChmdW5jdGlvbiAodmFsdWVzKSB7CiAgICAgIGNvbnNvbGUubG9nKCdGb3JtJywgdmFsdWVzKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgZW1haWw6IGVtYWlsLAogICAgICBlRXJyb3I6IGVFcnJvciwKICAgICAgZUJsdXI6IGVCbHVyLAogICAgICBwYXNzd29yZDogcGFzc3dvcmQsCiAgICAgIHBFcnJvcjogcEVycm9yLAogICAgICBwQmx1cjogcEJsdXIsCiAgICAgIG9uU3VibWl0OiBvblN1Ym1pdCwKICAgICAgaXNTdWJtaXR0aW5nOiBpc1N1Ym1pdHRpbmcsCiAgICAgIGlzVG9vTWFueUF0dGVtcHRzOiBpc1Rvb01hbnlBdHRlbXB0cwogICAgfTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\User\\Desktop\\online_banking\\src\\views\\Auth.vue"],"names":[],"mappings":";;AAqBA,SAAQ,QAAR,EAAkB,KAAlB,QAA8B,KAA9B;AACA,OAAO,KAAK,GAAZ,MAAqB,KAArB;AACA,SAAQ,QAAR,EAAkB,OAAlB,QAAgC,cAAhC;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,KAFa,mBAEN;AAAA,mBAC6C,OAAO,EADpD;AAAA,QACE,YADF,YACE,YADF;AAAA,QACgB,YADhB,YACgB,YADhB;AAAA,QAC8B,WAD9B,YAC8B,WAD9B;;AAAA,oBAGyD,QAAQ,CAClE,OADkE,EAElE,GAAE,CACC,MADH,GAEG,IAFH,GAGG,QAHH,CAGY,0BAHZ,EAIG,KAJH,CAIS,oCAJT,CAFkE,CAHjE;AAAA,QAGS,KAHT,aAGE,KAHF;AAAA,QAG6B,MAH7B,aAGgB,YAHhB;AAAA,QAGgD,KAHhD,aAGqC,UAHrC;;AAYL,QAAM,UAAS,GAAI,CAAnB;;AAZK,qBAc2D,QAAQ,CACpE,UADoE,EAEjE,GAAE,CACA,MADF,GAEE,IAFF,GAGE,QAHF,CAGW,0BAHX,EAIE,GAJF,CAIM,UAJN,2JAIiD,UAJjD,uDAFiE,CAdnE;AAAA,QAcQ,QAdR,cAcE,KAdF;AAAA,QAc+B,MAd/B,cAckB,YAdlB;AAAA,QAckD,KAdlD,cAcuC,UAdvC;;AAuBL,QAAM,iBAAgB,GAAI,QAAQ,CAAC;AAAA,aAAM,WAAW,CAAC,KAAZ,IAAqB,CAA3B;AAAA,KAAD,CAAlC;AACA,IAAA,KAAK,CAAC,iBAAD,EAAoB,UAAA,GAAE,EAAK;AAC9B,UAAG,GAAH,EAAO;AACL,QAAA,UAAU,CAAC;AAAA,iBAAM,WAAW,CAAC,KAAZ,GAAoB,CAA1B;AAAA,SAAD,CAAV;AACF;AACD,KAJI,CAAL;AAMA,QAAM,QAAO,GAAI,YAAY,CAAC,UAAA,MAAK,EAAK;AACtC,MAAA,OAAO,CAAC,GAAR,CAAY,MAAZ,EAAoB,MAApB;AACD,KAF4B,CAA7B;AAIA,WAAM;AACJ,MAAA,KAAK,EAAL,KADI;AACG,MAAA,MAAM,EAAN,MADH;AACW,MAAA,KAAK,EAAL,KADX;AAEJ,MAAA,QAAQ,EAAR,QAFI;AAEM,MAAA,MAAM,EAAN,MAFN;AAEc,MAAA,KAAK,EAAL,KAFd;AAGJ,MAAA,QAAQ,EAAR,QAHI;AAGM,MAAA,YAAY,EAAZ,YAHN;AAGoB,MAAA,iBAAgB,EAAhB;AAHpB,KAAN;AAKF;AAzCa,CAAf","sourcesContent":["<template>\r\n  <form class=\"card\" @submit.prevent=\"onSubmit\">\r\n    <h1>Войти в систему</h1>\r\n\r\n    <div :class=\"['form-control', {invalid: eError}]\" >\r\n      <label for=\"email\">Email</label>\r\n      <input type=\"email\" id=\"email\" v-model=\"email\" @blur=\"eBlur\">\r\n      <small v-if=\"eError\">{{ eError }}</small>\r\n    </div>\r\n    <div :class=\"['form-control', {invalid: pError}]\">\r\n      <label for=\"password\">Пароль</label>\r\n      <input type=\"password\" id=\"password\" v-model=\"password\" @blur=\"pBlur\">\r\n      <small v-if=\"pError\">{{ pError }}</small>\r\n    </div>\r\n\r\n    <button class=\"btn primary\" type=\"submit\" :disabled=\"isSubmitting || isTooManyAttempts\">Войти</button>\r\n    <div class=\"text-danger\" v-if=\"isTooManyAttempts\">Вы слишком часто пытается войти в систему. Попробуйте позже</div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport {computed, watch} from \"vue\";\r\nimport * as yup from 'yup'\r\nimport {useField, useForm} from \"vee-validate\";\r\n\r\nexport default {\r\n  name: \"Auth\",\r\n  setup(){\r\n    const {handleSubmit, isSubmitting, submitCount} = useForm()\r\n\r\n    const {value: email, errorMessage:eError, handleBlur:eBlur} = useField(\r\n        'email',\r\n        yup\r\n          .string()\r\n          .trim()\r\n          .required('Пожалуйста введите email')\r\n          .email('Необходимо ввести корректный email')\r\n    )\r\n\r\n    const MIN_LENGTH = 6\r\n\r\n    const {value:password, errorMessage:pError, handleBlur:pBlur} = useField(\r\n        'password',\r\n           yup\r\n            .string()\r\n            .trim()\r\n            .required('Пожалуйста введие пароль')\r\n            .min(MIN_LENGTH, `Пароль не может быть меньше ${MIN_LENGTH} символов`)\r\n    )\r\n\r\n    const isTooManyAttempts = computed(() => submitCount.value >= 3)\r\n    watch(isTooManyAttempts, val => {\r\n      if(val){\r\n        setTimeout(() => submitCount.value = 0)\r\n      }\r\n    })\r\n\r\n    const onSubmit = handleSubmit(values => {\r\n      console.log('Form', values)\r\n    })\r\n\r\n    return{\r\n      email, eError, eBlur,\r\n      password, pError, pBlur,\r\n      onSubmit, isSubmitting, isTooManyAttempts\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":""}]}